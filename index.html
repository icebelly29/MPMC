<!DOCTYPE html>
<html>
  <head>
    <title>Hello World</title>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <header>
      <h1>Capybara</h1>
      <nav>
        <ul>
          <li><a href="#6">6</a></li>
          <li><a href="#7">7</a></li>
          <li><a href="#8a">8a</a></li>
          <li><a href="#8b">8b</a></li>
          <li><a href="#9a">9a</a></li>
          <li><a href="#9b">9b</a></li>
          <li><a href="#10">10</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <section>
        <h2 id="6">Experiment 6</h2>
        <button onclick="copyToClipboard('#p1')">Copy</button>
        <pre id="p1">
            //Addition without carry
            ORG 0000H
            MOV A,#52H
            ADD A,#32H
            MOV 03H,A
            END
            
            //Addition with Carry set to 1
            ORG 0000H
            SETB C
            MOV A,#52H
            ADDC A,#32H
            MOV 03H,A
            END
            
            //Addition with Carry set to 0
            ORG 0000H
            CLR C
            MOV A,#52H
            ADDC A,#32H
            MOV 03H,A
            END
            
            //Subtraction with Carry set to 0
            ORG 0000H
            CLR C
            MOV A,#52H
            SUBB A,#32H
            MOV 03H,A
            END
            
            //Subtraction with Carry set to 1
            ORG 0000H
            SETB C
            MOV A,#52H
            SUBB A,#32H
            MOV 03H,A
            END
            
            //Multiplication 
            ORG 0000H
            MOV B,#65H
            MOV A,#35H
            MUL AB
            MOV 03H,A    //UPPERBYTE
            MOV 01H,B    //LOWERBYTE
            END
            
            //Division
            ORG 0000H
            MOV B,#65H    
            MOV A,#35H
            DIV AB
            MOV 03H,A
            MOV 01H,B
            END
            
            </pre>
      </section>
      <section>
        <h2 id="7">Experiment 7</h2>
        <button onclick="copyToClipboard('#p2')">Copy</button>
        <pre id="p2">
            //To exchange a block of data byte from one memory RAM location to another AND to find the largest number in an Array

            //Algo for Block Exchange:
            Load the address from source{R0} to destination{R1}
            Load the R2 with data stored at location R0 {counter}
            Get first data from source atstored in Accumulator
            Exchange the data
            Increment source and destination addresss
            Decerement the counter
            Run loop till the value of counter is zero
            End the program
            
            //Code for Block Exchange:
            ORG 0000H
            MOV R0,#40H
            MOV R1,#51H
            MOV A,@R0
            MOV R2,a
            INC R0
            BACK: MOV A,@R0
                  XCH A,@R1
                  MOV  @R0,a
                  INC R0
                  INC R1
                  DJNZ R2,BACK
            END
            
            //Algo for Largest No.:
            R0 <- Starting address of Array 
            R1<- @R0 counter
            Decrement R2 counterFirst data -> B register
            Second data -> Accumulator
            compare A and B
            if b> A  then no change
            if B< A Copy A into B
            Store the largest data in B 
            End
            
            //Code for Largest
            ORG 0000H
            MOV R0,#40H
            MOV A,@R0
            MOV R2,A
            DEC R2
            INC R0
            MOV B,@R0
            INC R0
            BACK: MOV A,@R0
                  CJNE A,B,LOOP 
                  JMP LOOP1
            LOOP: JC LOOP1
                  MOV B,A
            LOOP1: INC R0
                   DJNZ R2,BACK
                   MOV 60H,B
            END 
        </pre>        
      </section>
      <section>
        <h2 id="8a">Experiment 8A</h2>
        <button onclick="copyToClipboard('#p3')">Copy</button>
        <pre id="p3">
            //To Generate a delay of 5msec, Assuming timer 0, mode 1 Fosc= 11.0592 MHz, Select P1 Port to Blink the LED

            Precursor:

            TMOD: [Gate C/Tdash M1 M0 | Gate C/Tdash M1 M0]  0000 0001
                        Timer 1             Timer0

            TCON:  [TF1 TR1 TF0 TR0 IE1 IT1 IE0 IT0]   0001 0000

            dELAY GENERATED BY 1 PULSE = 12/Fosc = 12/11.0592 = 1.085 mu Second
            Clock pulse for 5 msec = (5*10^(-3))/(1.085*10^(-6))= (4608) decimal = (1200) Hex

            The value to be loaded in T0 reg = FFFF- 1200 +1= EE00

            Code:
            ORG 0000H
            MOV TMOD,#01H
            AGAIN1: MOV P1,#0FFH
                    ACALL delay
                    MOV P1,#00H
                    ACALL delay
                    SJMP AGAIN1
            Delay: MOV TL0, #00H
                MOV TH0, #0EEH
                SETB TR0
            Again: JNB TF0,Again
                CLR TR0
                CLR TF0
                RET
            END
        </pre>        
      </section>
      <section>
        <h2 id="8b">Experiment 8B</h2>
        <pre>
            // Program for counter which counts the number of events from the external pin of microcontroller 8051 [pin: p3.4] -> T0 
            //[Mode 2: t show output at Port 1]

            Precursor: 
            TMOD: [Gate C/Tdash M1 M0 | Gate C/Tdash M1 M0]  0000 0110
                        Timer 1             Timer0

            TCON:  [TF1 TR1 TF0 TR0 IE1 IT1 IE0 IT0]   0001 0000

            Code:

            ORG 0000H
            MOV TMOD, #06H
            SETB P3.4
            MOV TL0,#0000H
            MOV TH0,#00H
            HERE: SETB TR0
            BACK: MOV P1, TL0
                JNB TF0,BACK
                CLR TR0
                CLR TF0
                SJMP HERE
            END
        </pre>        
      </section>
      <section>
        <h2 id="9a">Experiment 9A</h2>
        <button onclick="copyToClipboard('#p4')">Copy</button>
        <pre id="p4">
            //Program for serial communication, To Transfer 'L' 'A' 'B' Serially at 9600 Baud Rate

            Precursor:

            TH1=256 - (28800/Baud Rate) = 253 (Decimal) => FD

            TMOD: [Gate C/Tdash M1 M0 | Gate C/Tdash M1 M0]  0001 0000
                        Timer 1             Timer0

            SCON:  [SM0 SM1 SM2 REN TB8 RB8 TI RI]   0101 0000

            Code:

            ORG 0000H
            MOV TMOD, #20H
            MOV SCON, #50H
            MOV TH1, #0FDH
            SETB TR1
            AGAIN: MOV SBUF, #'L'
            HERE1: JNB TI, HERE1
                CLR TI
                MOV SBUF,#'A'
            HERE2: JNB TI, HERE2
                CLR TI
                MOV SBUF,#'B'
            HERE 3: JNB TI, HERE3
                    CLR TI
            HERE 4: JNB RI, HERE4
                    MOV P1,SBUF
                    CLR RI
            HERE 5: JNB RI,HERE5
                    MOV P1,SBUF
                    CLR RI
                    SJMP AGAIN        
            END
        </pre>        
      </section>
      <section>
        <h2 id="9b">Experiment 9B</h2>
        <button onclick="copyToClipboard('#p5')">Copy</button>
        <pre id="p5">
            //Program for serial communication, To Transfer 'V' 'I' 'T' Serially at 4800 Baud Rate

            Precursor:

            TH1=256 - (28800/Baud Rate) = 250 (Decimal) => FA

            TMOD: [Gate C/Tdash M1 M0 | Gate C/Tdash M1 M0]  0001 0000
                        Timer 1             Timer0

            SCON:  [SM0 SM1 SM2 REN TB8 RB8 TI RI]   0101 0000

            Code:
            ORG 0000H
            MOV TMOD, #20H
            MOV SCON, #50H
            MOV TH1, #0FAH
            SETB TR1
            AGAIN: MOV SBUF, #'V'
            HERE1: JNB TI, HERE1
                CLR TI
                MOV SBUF,#'I'
            HERE2: JNB TI, HERE2
                CLR TI
                MOV SBUF,#'T'
            HERE 3: JNB TI, HERE3
                    CLR TI
            HERE 4: JNB RI, HERE4
                    MOV P1,SBUF
                    CLR RI
            HERE 5: JNB RI,HERE5
                    MOV P1,SBUF
                    CLR RI
                    SJMP AGAIN        
            END
        </pre>        
      </section>
      <section>
        <h2 id="10">Experiment 10</h2>
        <button onclick="copyToClipboard('#p6')">Copy</button>
        <pre id="p6">
            //To generate a square wave onPort 1.3 And when There is intruppt in P3.2 (External Intruppt). Change the status of LED Connected on Port P1.4

            Precursor:

            IE: [EA - ET2 E5 ET1 EX1 ET0 EX0]  1000 0001

            IP:  [- - PT2 PS PT1 EX1 PT0 PX0]   

            Code:

            ORG 0000H
            LJMP Main
            ORG  0003H
            CPL P1.4
            RETI
            ORG 0003H
            MAIN: MOV IE,#81H
                SETB IT0
            AGAIN: SETB P1.3
                ACALL DELAY
                CLR P1.3
                ACALL DELAY
                SJMP AGAIN
            DELAY: MOV TMOD,#01H
                MOV TL0,#00H
                MOV TH0,#0EEH
                SETB TR0
            AGAIN1: JNB TF0,AGAIN1
                    CLR TR0
                    CLR TF0
                    RET
            END
        </pre>        
      </section>
    </main>
    <footer>
      <p> Made with ü§ç</p>
    </footer>
    <script>
        function copyToClipboard(element) {
            var $temp = $("<input>");
            $("body").append($temp);
            $temp.val($(element).text()).select();
            document.execCommand("copy");
            $temp.remove();
            }

    </script>
  </body>
</html>
